<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org">
<body>
<wicket:extend>

<script type="text/javascript">

    function levelClicked(level) {
        var selectedOption = jQuery(".knowledgeLevel :nth-child("+(level+2)+")")
        selectedOption.attr("selected", "selected")
        jQuery(".levelDescription").html(selectedOption.html())
        highlightLevel(level, level)
    }

    function highlightLevels(level) {
        highlightLevel(getSelectedLevel(), level)
    }

    function highlightSelectedLevel() {
        highlightLevel(getSelectedLevel(), 0)
    }

    function getSelectedLevel() {
        return jQuery(".knowledgeLevel").val()
    }

    function highlightLevel(selectedLevel, activeLevel) {
        var counter = 0;
        jQuery(".levels a").each(function() {
            counter++;
            var jqThis = jQuery(this);
            if(counter == selectedLevel || activeLevel==0 && counter <= selectedLevel) {
                jqThis.addClass("selectedLevel");
                jqThis.removeClass("activeLevel");
            } else {
                if(counter <= activeLevel) {
                    jqThis.removeClass("selectedLevel");
                    jqThis.addClass("activeLevel");
                } else {
                    jqThis.removeClass("selectedLevel");
                    jqThis.removeClass("activeLevel");
                }
            }
        })
    }



</script>

<div class="userTechnologiesPage">

    <div>
        <div wicket:id="saveChangesButton">saveChangesButton</div>
    </div>

    <div class="addTechnologyContainer">
        <form wicket:id="addTechnologyForm">
            <input type="hidden" wicket:id="sessionToken"/>
            <div><span wicket:id="warningMessage"></span></div>
            <div>
                <input type="text" wicket:id="technologyName" class="technologyName "/>
            </div>
            <select wicket:id="knowledgeLevel" class="knowledgeLevel"/>
            <div class="levels">
                <a href="#" onclick="levelClicked(1); return false;" onmouseover="highlightLevels(1)" onfocus="highlightLevels(1)" onmouseout="highlightSelectedLevel()"></a>
                <a href="#" onclick="levelClicked(2); return false;" onmouseover="highlightLevels(2)" onfocus="highlightLevels(2)" onmouseout="highlightSelectedLevel()"></a>
                <a href="#" onclick="levelClicked(3); return false;" onmouseover="highlightLevels(3)" onfocus="highlightLevels(3)" onmouseout="highlightSelectedLevel()"></a>
                <a href="#" onclick="levelClicked(4); return false;" onmouseover="highlightLevels(4)" onfocus="highlightLevels(4)" onmouseout="highlightSelectedLevel()"></a>
                <a href="#" onclick="levelClicked(5); return false;" onmouseover="highlightLevels(5)" onfocus="highlightLevels(5)" onmouseout="highlightSelectedLevel()"></a>
            </div>
            <div class="levelDescription"></div>
            <div class="button">
                <input type="submit" wicket:id="submitButton" value="Dodaj"/>
            </div>
        </form>
    </div>


    <div wicket:id="technologyList" class="technologyListContainer">

        <div class="technologyList">
            <div wicket:id="technologySummary" class="replacedByWicket">
                <span wicket:id="name" class="name">name</span>
                <span wicket:id="level" class="level">level</span>
                <div wicket:id="removeTechnologyButton" class="remove">removeTechnology</div>
            </div>
        </div>

    </div>

</div>
</wicket:extend>
</body>
</html>