<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:wicket="http://wicket.apache.org">
<head>
    <title wicket:id="pageTitle"></title>
    <link rel="stylesheet/less" type="text/css" href="style/default.less">
    <script src="jslib/less.js" type="text/javascript"></script>
    <script src="jslib/jq.js"></script>
    <script src="js/page.js"></script>
    <script src="js/inputs.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/validateMethods.js"></script>
    <script src="js/form.js"></script>
</head>
<body>

<div class="pageBody">

    <div class="mainHeaderBackground"></div>
    <div class="mainHeader">
        <a wicket:id="homeLink" class="portalLogo"></a>
        <div class="userInfo" wicket:id="userInfo"></div>
    </div>

    <div class="pageContent">
        <div class="pageContentBorder">
            <wicket:child/>
            <div class="clearFloats"></div>
        </div>
    </div>

</div>

<div class="mainFooter">
    <div class="mainFooterBorder">
        <div class="footerContent">

            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
        </div>
    </div>
</div>

<div class="pageCurtain"></div>

<script type="text/javascript">
    ensureMinimumContentHeight();
</script>

</body>

<wicket:fragment wicket:id="loggedUser">

    <div class="userName">
        <div class="userNameBorder">
            <div class="userNameContent">
                <a href="#" class="userNameLink" onclick="showUserNameMenu();return false;" onfocus="showUserNameMenu()" onblur="hideUserNameMenuTrigger()"><span wicket:id="userName" class="userNameLabel">fullName</span></a>

                <div class="hiddenContent hiddenByDefault">
                    <div class="defaultButtonsContainer">
                        <div class="buttonHolder">
                            <a wicket:id="profileLink" class="skinnedDefaultButton" onfocus="showUserNameMenu()" onblur="hideUserNameMenuTrigger()">Podgląd profilu</a>
                        </div>
                        <div class="buttonHolder">
                            <a wicket:id="editProfileLink" class="skinnedDefaultButton" onfocus="showUserNameMenu()" onblur="hideUserNameMenuTrigger()">Edytuj profil</a>
                        </div>

                    </div>

                    <div class="signOutButtonContainer">
                        <a wicket:id="signoutLink" class="signOutButton" onfocus="showUserNameMenu()" onblur="hideUserNameMenuTrigger()">Wyloguj się</a>
                    </div>
                </div>


            </div>
        </div>
    </div>

    <script type="text/javascript">

        jQuery(function() {
            var menu = jQuery(".mainHeader .userInfo .userName");

            menu.mouseenter(function() {
                showUserNameMenu();
            });
            menu.mouseleave(function() {
                hideUserNameMenuTrigger();
            });
        });

        function showUserNameMenu() {

            var hiddenContent = jQuery(".userNameContent .hiddenContent");
            hiddenContent.css({display: "block"});
            clearTimeout(window.mainHeaderUserNameMenuTimeout)
        }

        function hideUserNameMenu() {
            var hiddenContent = jQuery(".userNameContent .hiddenContent");
            hiddenContent.css({display: "none"});
        }

        function hideUserNameMenuTrigger() {
            window.mainHeaderUserNameMenuTimeout = setTimeout(hideUserNameMenu, 500)
        }

    </script>


</wicket:fragment>

<wicket:fragment wicket:id="userNotLoggedIn">
    <div class="accountOptions">
        <a href="#" class="defaultButton loginFormLink">Zaloguj się</a>
    </div>
        
    <div class="signInPopup">
        <div class="title">Zaloguj się</div>
        <span wicket:id="signInPanel"></span>

        <div>
            <a href="#" class="cancelLoginLink">Anuluj</a>
        </div>
    </div>

    <script type="text/javascript">

        jQuery(function () {
            jQuery(".loginFormLink").click(function () {
                jQuery(".signInPopup").css({display:"block"});
            });
            jQuery(".cancelLoginLink").click(function () {
                jQuery(".signInPopup").css({display:"none"});
            });
        });

    </script>
</wicket:fragment>


</html>