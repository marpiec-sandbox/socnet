<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:wicket="http://wicket.apache.org">
<head>
    <title wicket:id="pageTitle"></title>
    <link rel="stylesheet/less" type="text/css" href="style/default.less">
    <script src="jslib/less.js" type="text/javascript"></script>
    <script src="jslib/jq.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/validateMethods.js"></script>
    <script src="js/form.js"></script>
</head>
<body>

<div class="pageBody">

    <div class="mainHeaderBackground"></div>
    <div class="mainHeader">
        <a wicket:id="homeLink" class="portalLogo"></a>
        <div class="userInfo" wicket:id="userInfo"></div>
    </div>

    <div class="pageContent">
        <div class="pageContentBorder">
            <wicket:child/>
            <div class="clearFloats"></div>
        </div>
    </div>

</div>

<div class="mainFooter">
    <div class="mainFooterBorder">
        <div class="footerContent">

            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
            <div class="footerColumn">
                <div class="title">Informacje</div>
                <div class="entry">o portalu</div>
                <div class="entry">polityka prywatności</div>
                <div class="entry">regulamin</div>
                <div class="entry">kontakt</div>
            </div>
        </div>
    </div>
</div>

</body>

<wicket:fragment wicket:id="loggedUser">

    <div class="userName">
        <div class="userNameBorder">
            <a wicket:id="profileLink" class="profileLink"><span wicket:id="userName">fullName</span></a>

            <button wicket:id="signoutLink" class="signOutButton">Wyloguj</button>
        </div>
    </div>

    <script type="text/javascript">

        jQuery(function() {
            var menu = jQuery(".mainHeader .userInfo .userName");

            menu.mouseenter(function() {
                showUserNameMenu();
            });
            menu.mouseleave(function() {
                hideUserNameMenuTrigger();
            });
        });

        function showUserNameMenu() {
            var userNameContainer = jQuery(".userNameBorder");
            if(userNameContainer.data("oldHeight") == undefined) {
                userNameContainer.data("oldHeight", userNameContainer.height())
            }
            userNameContainer.css({height: 100});
            clearTimeout(window.mainHeaderUserNameMenuTimeout)
        }

        function hideUserNameMenu() {
            var userNameContainer = jQuery(".userNameBorder");
            var oldHeight = userNameContainer.data("oldHeight")
            userNameContainer.css({height: oldHeight});
        }

        function hideUserNameMenuTrigger() {
            window.mainHeaderUserNameMenuTimeout = setTimeout(hideUserNameMenu, 500)
        }

    </script>


</wicket:fragment>

<wicket:fragment wicket:id="userNotLoggedIn">
    <div class="accountOptions">
        <a href="#" class="defaultButton loginFormLink">Zaloguj się</a>
    </div>
        
    <div class="signInPopup">
        <div class="title">Zaloguj się</div>
        <span wicket:id="signInPanel"></span>

        <div>
            <a href="#" class="cancelLoginLink">Anuluj</a>
        </div>
    </div>

    <script type="text/javascript">

        jQuery(function () {
            jQuery(".loginFormLink").click(function () {
                jQuery(".signInPopup").css({display:"block"});
            });
            jQuery(".cancelLoginLink").click(function () {
                jQuery(".signInPopup").css({display:"none"});
            });
        });

    </script>
</wicket:fragment>


</html>